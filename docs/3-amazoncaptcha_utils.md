# Amazoncaptcha Utils

[_Documentation generated by Documatic_](https://www.documatic.com)

<!---Documatic-section-Codebase Structure-start--->
## Codebase Structure

<!---Documatic-block-system_architecture-start--->
```mermaid
None
```
<!---Documatic-block-system_architecture-end--->

# #
<!---Documatic-section-Codebase Structure-end--->

<!---Documatic-section-amazoncaptcha.utils.cut_the_white-start--->
## [amazoncaptcha.utils.cut_the_white](3-amazoncaptcha_utils.md#amazoncaptcha.utils.cut_the_white)

<!---Documatic-section-cut_the_white-start--->
<!---Documatic-block-amazoncaptcha.utils.cut_the_white-start--->
<details>
	<summary><code>amazoncaptcha.utils.cut_the_white</code> code snippet</summary>

```python
def cut_the_white(letter):
    background = Image.new(letter.mode, letter.size, 255)
    diff = ImageChops.difference(letter, background)
    bbox = diff.getbbox()
    return letter.crop(bbox)
```
</details>
<!---Documatic-block-amazoncaptcha.utils.cut_the_white-end--->
<!---Documatic-section-cut_the_white-end--->

# #
<!---Documatic-section-amazoncaptcha.utils.cut_the_white-end--->

<!---Documatic-section-amazoncaptcha.utils.merge_horizontally-start--->
## [amazoncaptcha.utils.merge_horizontally](3-amazoncaptcha_utils.md#amazoncaptcha.utils.merge_horizontally)

<!---Documatic-section-merge_horizontally-start--->
<!---Documatic-block-amazoncaptcha.utils.merge_horizontally-start--->
<details>
	<summary><code>amazoncaptcha.utils.merge_horizontally</code> code snippet</summary>

```python
def merge_horizontally(img1, img2):
    merged = Image.new('L', (img1.width + img2.width, img1.height))
    merged.paste(img1, (0, 0))
    merged.paste(img2, (img1.width, 0))
    return merged
```
</details>
<!---Documatic-block-amazoncaptcha.utils.merge_horizontally-end--->
<!---Documatic-section-merge_horizontally-end--->

# #
<!---Documatic-section-amazoncaptcha.utils.merge_horizontally-end--->

<!---Documatic-section-amazoncaptcha.utils.find_letter_boxes-start--->
## [amazoncaptcha.utils.find_letter_boxes](3-amazoncaptcha_utils.md#amazoncaptcha.utils.find_letter_boxes)

<!---Documatic-section-find_letter_boxes-start--->
<!---Documatic-block-amazoncaptcha.utils.find_letter_boxes-start--->
<details>
	<summary><code>amazoncaptcha.utils.find_letter_boxes</code> code snippet</summary>

```python
def find_letter_boxes(img, maxlength):
    image_columns = [[img.getpixel((x, y)) for y in range(img.height)] for x in range(img.width)]
    image_code = [1 if 0 in column else 0 for column in image_columns]
    xpoints = [d for (d, s) in zip(range(len(image_code)), image_code) if s]
    xcoords = [x for x in xpoints if x - 1 not in xpoints or x + 1 not in xpoints]
    if len(xcoords) % 2:
        xcoords.insert(1, xcoords[0])
    letter_boxes = list()
    for (s, e) in zip(xcoords[0::2], xcoords[1::2]):
        (start, end) = (s, min(e + 1, img.width - 1))
        if end - start <= maxlength:
            letter_boxes.append((start, end))
        else:
            two_letters = {k: v.count(0) for (k, v) in enumerate(image_columns[start + 5:end - 5])}
            divider = min(two_letters, key=two_letters.get) + 5
            letter_boxes.extend([(start, start + divider), (start + divider + 1, end)])
    return letter_boxes
```
</details>
<!---Documatic-block-amazoncaptcha.utils.find_letter_boxes-end--->
<!---Documatic-section-find_letter_boxes-end--->

# #
<!---Documatic-section-amazoncaptcha.utils.find_letter_boxes-end--->

[_Documentation generated by Documatic_](https://www.documatic.com)